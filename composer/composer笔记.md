??composer???http://wiki.intra.xiaojukeji.com/pages/viewpage.action?pageId=145439480
composer??&????:https://docs.phpcomposer.com/03-cli.html
composer???https://docs.phpcomposer.com/04-schema.html
# ???composer
* **Composer?PHP????????? ??????**
* ????????
* ???npm?????

# ????
* ?????????(?????)
* Composer??????????

# ???
* ?composer.json????
```
{
    "require": {
        "monolog/monolog": "1.2.*"
    }
}
```

# ????
* PHP5.3.2+????
* ????????????????( git ? svn ?? hg)

# ??composer
* ????
  * curl -sS https://getcomposer.org/installer | php
  * php -r "readfile('https://getcomposer.org/installer');" | php ??composer.phar
  * --install-dir ??????
* ????
  * ?????path?
  * curl -sS https://getcomposer.org/installer | php
  * mv composer.phar /usr/local/bin/composer

mac homebrew??
```
brew update
brew tap josegonzalez/homebrew-php
brew tap homebrew/versions
brew install php55-intl
brew install josegonzalez/php/composer
```

# ??composer
* ??
  * composer.json->??->??composer.lock
  * composer.json???????update????->??composer.lock
  * php composer.phar install(????)
  * composer install(????)
  * ???vendor?? ???.gitignore
  * composer.lock ???????????
* ????
  * ?????vendor/autoload.php ??
  * require 'vendor/autoload.php';
  * ??autoloader????Acme????
```
$log = new Monolog\Logger('name');
$log->pushHandler(new Monolog\Handler\StreamHandler('app.log', Monolog\Logger::WARNING));

$log->addWarning('Foo');

{
    "autoload": {
        "psr-4": {"Acme\\": "src/"}
    }
}
```
* composer.json
  * ??composer.json????
  * require ????? key??(???/???) value??
  * ??????
    * ???? 1.0.2
    * ?? >=1.0,<1.1|>=1.2 ??????
    * ??? 1.0.*
    * ????? ~1.2(>=1.2,<2.0) ~1.2.3(>=1.2.3,<1.3)
* packagist ? Composer ?????? ???
  * https://packagist.org/


# ??composer???
* ????? "name": "acme/hello-world",  ?????????????
* ??????  "version": "1.0.0" **????????????????????**
  * ?? git tag
  * ?? git branch ?????????????
* ??repositories?????? ????
* php ??php?????
* hhvm ?????
* ext-<name> PHP??
* lib-<name> PHP?????
* dump-autoload ??install?update
* licenses ????
* run-script ????
* diagnose ??
* archive ??
* help ??

# ??composer???
* init ???composer
* install ??
* update ????????composer.lock
* require ????/?????composer??
* search ??
* show ????
* depends ?????
* validate ?????
* status ??
* self-update ??composer
* config ????
* php composer.phar config repositories.foo vcs http://github.com/foo/bar ?????

# ????
* name
* description
* version ??????
* type ??library
  * library ???vendor
  * project ??
  * metapackage ???????
  * composer-plugin ???????
* keywords ???
* homepage ????
* time ????
* license ????
* authors ????
* support ????
* require ??????
* require-dev ??/?????
* conflict ????????
* replace ??require??
* provide
* suggest ??????
* autoload ??????
* archive ????
* config ??


```
{
    "name": "topthink/think",
    "description": "the new thinkphp framework",
    "type": "project",
    "keywords": [
        "framework",
        "thinkphp",
        "ORM"
    ],
    "homepage": "http://thinkphp.cn/",
    "license": "Apache-2.0",
    "authors": [
        {
            "name": "liu21st",
            "email": "liu21st@gmail.com"
        }
    ],
    "require": {
        "php": ">=5.4.0",
        "topthink/framework": "^5.0",
        "topthink/think-captcha": "^1.0",
        "topthink/think-helper": "^1.0",
        "phpoffice/phpexcel": "^1.8",
        "phpmailer/phpmailer": "^5.2",
        "flc/alidayu": "^2.0",
        "dodgepudding/wechat-php-sdk": "^1.1",
        "gamegos/jwt": "^0.1.1",
        "ramsey/uuid": "^3.5",
        "topthink/think-image": "^1.0",
        "qingyuexi/think-addons": "^1.0",
        "sentry/sentry": "^1.9"
    },
    "extra": {
        "think-path": "thinkphp"
    },
    "config": {
        "preferred-install": "dist"
    }
}

```